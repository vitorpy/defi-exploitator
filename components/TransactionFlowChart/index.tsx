import { cloneDeep, mapValues } from "lodash";
import React, { useState } from "react";
import { FlowChart } from "@mrblenny/react-flow-chart";
import * as actions from "@mrblenny/react-flow-chart/src/container/actions";

import { chartSimple } from "../../misc/exampleChartState";

export function TransactionFlowChart() {
  const [chart, setChart] = useState(chartSimple);
  const stateActions = mapValues(actions, (func: any) => (...args: any) =>
    setChart(func(...args))
  ) as typeof actions;

  return <FlowChart chart={cloneDeep(chart)} callbacks={stateActions} />;
}
